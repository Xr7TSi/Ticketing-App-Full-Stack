(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),l=(a(76),a(4)),o=a.n(l),i=a(8),u=(a(78),a(10)),m=a(13),d=a(7),p=a(116),g=a(117),E=a(65),f=a(118),h=a(123),b=a(119),v=a(120),w=a(20),x=Object(w.b)({name:"login",initialState:{isLoading:!1,isAuth:!1,error:""},reducers:{loginPending:function(e){e.isLoading=!0},loginSuccess:function(e){e.isLoading=!1,e.isAuth=!0},loginFail:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a}}}),k=x.reducer,j=x.actions,y=j.loginPending,O=j.loginSuccess,S=j.loginFail,L=k,N=a(9),T=a(15),C=a.n(T),A=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/v1/user",e);case 3:"success"===(r=t.sent).data.status&&a(r.data),a(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n("Error at userRegistration / "+t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())},P=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.patch("/v1/user/verify",e);case 3:"success"===(r=t.sent).data.status&&a(r.data),a(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n("Error at userRegistrationVerification / "+t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())},F=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/v1/user/login",e);case 3:"success"===(r=t.sent).data.status&&(sessionStorage.setItem("accessJWT",r.data.accessJWT),localStorage.setItem("crmSite",JSON.stringify({refreshJWT:r.data.refreshJWT}))),a(r.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n("Error at userLogin / "+t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,a){return t.apply(this,arguments)}}())},U=function(){return new Promise(function(){var e=Object(i.a)(o.a.mark(function e(t,a){var n,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(localStorage.getItem("crmSite")),(r=n.refreshJWT)||a("Token not found!"),e.next=5,C.a.get("/v1/tokens",{headers:{Authorization:r}});case 5:"success"===(c=e.sent).data.status&&sessionStorage.setItem("accessJWT",c.data.accessJWT),t(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),"Request failed with status code 403"===e.t0.message&&localStorage.removeItem("crmSite"),a(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a){return e.apply(this,arguments)}}())},R=Object(w.b)({name:"user",initialState:{user:{},isLoading:!1,error:""},reducers:{getUserPending:function(e){e.isLoading=!0},getUserSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.user=a,e.error=""},getUserFailure:function(e,t){var a=t.payload;e.isLoading=!1,e.error=a}}}),G=R.reducer,q=R.actions,I=q.getUserPending,J=q.getUserSuccess,M=q.getUserFailure,K=G,V=function(){return function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(I()),e.next=4,new Promise(function(){var e=Object(i.a)(o.a.mark(function e(t,a){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=sessionStorage.getItem("accessJWT"))||a("No accessJWT in sessionStorage"),e.next=5,C.a.get("/v1/user",{headers:{Authorization:n}});case 5:r=e.sent,t(r.data),t(r.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a("Error at getUser / "+e.t0.message);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,a){return e.apply(this,arguments)}}());case 4:if(!(a=e.sent).user||!a.user._id){e.next=7;break}return e.abrupt("return",t(J(a.user)));case 7:t(M("User not found.")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(M(e.t0));case 14:case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},z=function(e){var t=e.formSwitcher,a=Object(n.useState)(""),c=Object(d.a)(a,2),s=c[0],l=c[1],m=Object(n.useState)(""),w=Object(d.a)(m,2),x=w[0],k=w[1],j=Object(N.b)(),L=Object(N.c)(function(e){return e.login}),T=L.isLoading,C=L.isAuth,A=L.error,P=Object(u.t)();Object(n.useEffect)(function(){sessionStorage.getItem("accessJWT")&&P("/dashboard")},[P,C]);var U=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"email":l(n);break;case"password":k(n)}},R=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=3;break}return e.abrupt("return",alert("Please enter your email address."));case 3:return j(y()),e.prev=4,e.next=7,F({email:s,password:x});case 7:if("error"!==(a=e.sent).status){e.next=10;break}return e.abrupt("return",j(S(a.message)));case 10:j(O()),j(V()),P("/dashboard"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),j(S(e.t0));case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"text-info"},"Client Login"),r.a.createElement("hr",null),A&&r.a.createElement(f.a,{variant:"danger"},A),r.a.createElement(h.a,{autoComplete:"off",onSubmit:R},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Email address"),r.a.createElement(h.a.Control,{type:"email",name:"email",value:s,onChange:U,placeholder:"Enter email",required:!0})),r.a.createElement(h.a.Group,{style:{marginTop:"10px"}},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",name:"password",value:x,onChange:U,placeholder:"Enter Password",required:!0})),r.a.createElement("div",{className:"text-center"},r.a.createElement(b.a,{style:{marginTop:"18px"},type:"submit"},"Login")),T&&r.a.createElement(v.a,{variant:"info",animation:"border"})),r.a.createElement("hr",null))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"text-center"},r.a.createElement("a",{href:"/password-reset"},"Forgot Password?"))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"py-4 text-center"},"First time here? "," ",r.a.createElement("a",{href:"/registration",onClick:function(){return t("reset")}},"Sign Up"))))},Q=Object(w.b)({name:"passwordReset",initialState:{isLoading:!1,status:"",message:"",showUpdatePasswordForm:!1,email:""},reducers:{otpReqPending:function(e){e.isLoading=!0},otpReqSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.status="success",e.message=a.message,e.email=a.email,e.showUpdatePasswordForm=!0},updatePasswordSuccess:function(e,t){var a=t.payload;e.isLoading=!1,e.status="success",e.message=a.message},otpReqFailure:function(e,t){var a=t.payload;e.isLoading=!1,e.status="error",e.message=a.message}}}),W=Q.reducer,D=Q.actions,H=D.otpReqPending,X=D.otpReqSuccess,B=D.updatePasswordSuccess,Y=D.otpReqFailure,Z=W,_=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/v1/user/reset-password",{email:e});case 3:r=t.sent,c=r.data,console.log(c),a(c),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(t.t0),console.log("Error at reqPasswordOtp / "+t.t0);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}())},$=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.patch("/v1/user/reset-password",e);case 3:r=t.sent,c=r.data,console.log(c),a(c),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n(t.t0),console.log("Error at updateUserPassword / "+t.t0);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}())},ee=function(){var e=Object(N.b)(),t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],l=Object(N.c)(function(e){return e.password}),u=l.isLoading,m=l.status,w=l.message;return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"text-info"},"Reset Password"),r.a.createElement("hr",null),w&&r.a.createElement(f.a,{variant:"success"===m?"success":"danger"},w),u&&r.a.createElement(v.a,{variant:"info",animation:"border"}),r.a.createElement(h.a,{autoComplete:"off",onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n,r,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(H()),t.next=4,_(e);case 4:if(n=t.sent,r=n.status,c=n.message,"success"!==r){t.next=9;break}return t.abrupt("return",a(X({message:c,email:e})));case 9:a(Y(c)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("Error at sendPasswordResetOtp / "+t.t0),a(Y(t.t0.message));case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e){return t.apply(this,arguments)}}()}(c))}},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Label,null,"Email address"),r.a.createElement(h.a.Control,{type:"email",name:"email",value:c,onChange:function(e){var t=e.target.value;s(t)},placeholder:"Enter email",required:!0})),r.a.createElement("div",{className:"text-center"},r.a.createElement(b.a,{style:{marginTop:"18px"},type:"submit"},"Reset Password"))))),r.a.createElement(g.a,null))},te=(a(103),{jumbotron:{backgroundColor:"white",paddingTop:"4rem",paddingBottom:"4rem",paddingLeft:"2rem",paddingRight:"2rem",borderRadius:"0.5rem",boxShadow:"0px 0px 15px -7px black"}}),ae=function(){var e=Object(n.useState)("login"),t=Object(d.a)(e,2),a=t[0],c=t[1],s=function(e){c(e)};return"login"===a?r.a.createElement("div",{className:"entry-page bg-info"},r.a.createElement("div",{style:te.jumbotron},r.a.createElement(z,{formSwitcher:s}))):"reset"===a?r.a.createElement("div",{className:"entry-page bg-info"},r.a.createElement("div",{style:te.jumbotron},r.a.createElement(ee,{handleOnResetSubmit:function(e){e.preventDefault()},formSwitcher:s}))):void 0},ne=a(11),re=a(1),ce={pin:"",password:"",confirmPassword:""},se={isLongEnough:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecial:!1,confirmPassword:!1},le=function(){var e=Object(N.b)(),t=Object(n.useState)(ce),a=Object(d.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(se),u=Object(d.a)(l,2),m=u[0],w=u[1],x=Object(N.c)(function(e){return e.password}),k=x.isLoading,j=x.status,y=x.message,O=x.email;Object(n.useEffect)(function(){},[c]);var S=function(e){var t=e.target,a=t.name,n=t.value;if(s(Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},a,n))),"password"===a){var r=n.length>=8,l=/[A-Z]/.test(n),o=/[a-z]/.test(n),i=/[0-9]/.test(n),u=/[ !,",#,$,%,&,',(,),*,+,-,.,/,:,;,<,=,>,?,@,[,^,_,`,{,|,} ]/.test(n);w(Object(re.a)(Object(re.a)({},m),{},{isLongEnough:r,hasUpperCase:l,hasLowerCase:o,hasNumber:i,hasSpecial:u}))}"confirmPassword"===a&&w(Object(re.a)(Object(re.a)({},m),{},{confirmPassword:c.password===n}))};return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"text-info"}))),r.a.createElement("hr",null),r.a.createElement(g.a,null,r.a.createElement(E.a,null,y&&r.a.createElement(f.a,{variant:"success"===j?"success":"danger"},y),k&&r.a.createElement(v.a,{variant:"info",animation:"border"}))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(h.a,{onSubmit:function(t){t.preventDefault();var a,n=c.pin,r=c.password;e((a={pin:n,newPassword:r,email:O},function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(H()),e.next=4,$(a);case 4:"success"===(n=e.sent).status?t(B(n.message)):t(Y(n.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error at updatePassword / "+e.t0),t(Y(e.t0.message));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"PIN"),r.a.createElement(h.a.Control,{type:"number",name:"pin",value:c.pin,onChange:S,placeholder:"pin"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"New Password"),r.a.createElement(h.a.Control,{type:"password",name:"password",value:c.password,onChange:S,placeholder:"Password"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Confirm New Password"),r.a.createElement(h.a.Control,{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:S,placeholder:"Confirm Password"})),r.a.createElement("ul",{className:"mb-4"},r.a.createElement("li",{className:m.isLongEnough?"text-success":"text-danger"},"At least 8 characters ","",m.isLongEnough?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasUpperCase?"text-success":"text-danger"},"At least one upper case letter ","",m.hasUpperCase?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasLowerCase?"text-success":"text-danger"},"At least one lower case letter ","",m.hasLowerCase?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasNumber?"text-success":"text-danger"},"At least one number ","",m.hasNumber?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasSpecial?"text-success":"text-danger"},"At least one special character ","",m.hasSpecial?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.confirmPassword?"text-success":"text-danger"},"Passwords match ","",m.confirmPassword?r.a.createElement(r.a.Fragment,null,"\u2713"):"")),r.a.createElement("div",{className:"text-center"},r.a.createElement(b.a,{variant:"info",type:"submit",disabled:Object.values(m).includes(!1)},"Submit"))))),r.a.createElement(g.a,{className:"py-3"},r.a.createElement(E.a,{className:"text-center"},r.a.createElement("a",{href:"/"},"Login"))))},oe=(a(104),{jumbotron:{backgroundColor:"white",paddingTop:"4rem",paddingBottom:"4rem",paddingLeft:"2rem",paddingRight:"2rem",borderRadius:"0.5rem",boxShadow:"0px 0px 15px -7px black"}}),ie=function(){var e=Object(N.c)(function(e){return e.password}).showUpdatePasswordForm;return r.a.createElement("div",{className:"entry-page bg-info"},r.a.createElement("div",{style:oe.jumbotron},e?r.a.createElement(le,null):r.a.createElement(ee,null)))},ue=a(121),me=function(){var e=Object(N.c)(function(e){return e.tickets}),t=e.searchTicketList,a=e.tickets,n=e.isLoading,c=e.error;return n?r.a.createElement("h3",null,"Loading..."):c?r.a.createElement("h3",null,"Error: ",c):r.a.createElement(ue.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Subject"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Opened Date"))),r.a.createElement("tbody",null,a.length?t.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,r.a.createElement(m.Link,{to:"/ticket/".concat(e._id)},e.subject)),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.openedAt&&new Date(e.openedAt).toLocaleString()))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4",className:"text-center"},"No Tickets Exist"))))},de=a(125),pe=a(68),ge=function(e){var t=e.page;return r.a.createElement(de.a,null,r.a.createElement(pe.LinkContainer,{to:"/"},r.a.createElement(de.a.Item,null,"Home")),r.a.createElement(de.a.Item,{active:!0},t))},Ee=Object(w.b)({name:"ticketList",initialState:{tickets:[],isLoading:!1,error:"",replyTicketError:"",searchTicketList:[],selectedTicket:{}},reducers:{fetchTicketLoading:function(e){e.isLoading=!0},fetchTicketSuccess:function(e,t){e.tickets=t.payload,e.searchTicketList=t.payload,e.isLoading=!1},fetchTicketFailure:function(e,t){e.isLoading=!1,e.error=t.payload},resetReplyMsg:function(e,t){e.isLoading=!1,e.replyMsg=""},searchTickets:function(e,t){e.searchTicketList=e.tickets.filter(function(e){return t.payload?e.subject.toLowerCase().includes(t.payload.toLowerCase()):e})},fetchSingleTicketLoading:function(e){e.isLoading=!0},fetchSingleTicketSuccess:function(e,t){e.selectedTicket=t.payload,e.isLoading=!1,e.error=""},fetchSingleTicketFailure:function(e,t){e.isLoading=!1,e.error=t.payload},replyTicketLoading:function(e){e.isLoading=!0},replyTicketSuccess:function(e,t){e.isLoading=!1,e.error="",e.replyMsg=t.payload},replyTicketFailure:function(e,t){e.isLoading=!1,e.replyTicketError=t.payload},closeTicketLoading:function(e){e.isLoading=!0},closeTicketSuccess:function(e,t){e.isLoading=!1,e.error="",e.replyMsg=t.payload},closeTicketFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),fe=Ee.reducer,he=Ee.actions,be=he.fetchTicketLoading,ve=he.fetchTicketSuccess,we=he.fetchTicketFailure,xe=he.resetReplyMsg,ke=he.searchTickets,je=he.fetchSingleTicketLoading,ye=he.fetchSingleTicketSuccess,Oe=he.fetchSingleTicketFailure,Se=he.replyTicketLoading,Le=he.replyTicketSuccess,Ne=he.replyTicketFailure,Te=he.closeTicketLoading,Ce=he.closeTicketSuccess,Ae=he.closeTicketFailure,Pe=fe,Fe=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.get("/v1/ticket/"+e,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n("Error at getSingleTicket / "+t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e,a){return t.apply(this,arguments)}}())},Ue=function(e,t){return new Promise(function(){var a=Object(i.a)(o.a.mark(function a(n,r){var c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.put("/v1/ticket/"+e,t,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:c=a.sent,n(c.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r("Error at addReplyToTicket / "+a.t0);case 10:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e,t){return a.apply(this,arguments)}}())},Re=function(e){return new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.patch("/v1/ticket/close-ticket/"+e,{},{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n("Error at updateTicketStatusClosed / "+t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e,a){return t.apply(this,arguments)}}())},Ge=function(e){return console.log("Form Data from API ",e),new Promise(function(){var t=Object(i.a)(o.a.mark(function t(a,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/v1/ticket/",e,{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:r=t.sent,a(r.data),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),n("Error at createNewTicket / "+t.t0);case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e,a){return t.apply(this,arguments)}}())},qe=function(e){return function(){var t=Object(i.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(je()),t.prev=1,t.next=4,Fe(e);case 4:n=t.sent,a(ye(n.data.result)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(Oe("Error at fetchSingleTicket / "+t.t0.message));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},Ie=a(122),Je=a(124),Me=a(69),Ke=a.n(Me),Ve={crmLogo:{marginLeft:"8px",paddingTop:".5rem",paddingBottom:".5rem",paddingLeft:".5rem",paddingRight:".5rem",borderRadius:"0.1rem",boxShadow:"0px 0px 15px -7px black"},linkStyle:{color:"white",textDecoration:"none",marginLeft:"10px",marginRight:"10px"}},ze=function(){return r.a.createElement(Ie.a,{collapseOnSelect:!0,bg:"info",variant:"dark",expand:"md"},r.a.createElement(Ie.a.Brand,{style:Ve.crmLogo},r.a.createElement("img",{src:Ke.a,alt:"CRM Logo",width:"50px"})),r.a.createElement(Ie.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Ie.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(Je.a,null,r.a.createElement(m.Link,{to:"/dashboard",style:Ve.linkStyle},"Dashboard"),r.a.createElement(m.Link,{to:"/add-ticket",style:Ve.linkStyle},"Add Ticket"),r.a.createElement(m.Link,{to:"/open-tickets",style:Ve.linkStyle},"Open Tickets"),r.a.createElement(m.Link,{to:"/closed-tickets",style:Ve.linkStyle},"Closed Tickets"),r.a.createElement(m.Link,{to:"/",onClick:function(){localStorage.removeItem("crmSite"),sessionStorage.removeItem("accessJWT")},style:Ve.linkStyle},"Logout"))))},Qe=function(){return r.a.createElement("div",{className:"text-center copy-right"},"\xa9 ",(new Date).getFullYear())},We=function(e){var t=e.children;return r.a.createElement("div",{className:"default-layout"},r.a.createElement("header",{className:"header"},r.a.createElement(ze,null)),r.a.createElement("main",{className:"main"},t),r.a.createElement("footer",{className:"footer"},r.a.createElement(Qe,null)))},De=function(){var e=Object(N.b)(),t=Object(N.c)(function(e){return e.tickets}).tickets;console.log(t);var a=t.length;return Object(n.useEffect)(function(){t.length||e(function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(be()),e.prev=1,e.next=4,new Promise(function(){var e=Object(i.a)(o.a.mark(function e(t,a){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/v1/ticket/all-tickets/",{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a("Error at getAllTickets / "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}());case 4:(a=e.sent).data.result.length&&t(ve(a.data.result)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(we("Error at fetchAllTickets / "+e.t0.message));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},[t,e]),r.a.createElement(We,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(ge,{page:"Dashboard"}))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"text-center mt-5 mb-2"},r.a.createElement(m.Link,{to:"/add-ticket"},r.a.createElement(b.a,{variant:"info",style:{fontSize:"2rem",padding:"10px 30px",color:"white"}},"Add New Ticket")))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"text-center mb-2"},r.a.createElement("div",null,"Total Tickets: ",a),r.a.createElement("div",null,"Open Tickets: ",t.length))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"mt-2"},"Recently Added Tickets")),r.a.createElement("hr",null),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"recent-ticket"},r.a.createElement(me,{tickets:t})))))},He=Object(w.b)({name:"newTicket",initialState:{isLoading:!1,error:"",successMsg:""},reducers:{openNewTicketPending:function(e){e.isLoading=!0},openNewTicketSuccess:function(e,t){e.isLoading=!1,e.successMsg=t.payload},openNewTicketFailure:function(e,t){e.isLoading=!0,e.error=t.payload},resetSuccessMsg:function(e){e.isLoading=!1,e.successMsg=""}}}),Xe=He.actions,Be=Xe.openNewTicketPending,Ye=Xe.openNewTicketSuccess,Ze=Xe.openNewTicketFailure,_e=Xe.resetSuccessMsg,$e=He.reducer,et=function(e){return function(t){return new Promise(function(){var a=Object(i.a)(o.a.mark(function a(n,r){var c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t(Be()),a.next=4,Ge(e);case 4:"error"===(c=a.sent).status&&(t(Ze(c.message)),r(c.message)),t(Ye(c.message)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),t(Ze("Error at openNewTicket /"+a.t0.message));case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e,t){return a.apply(this,arguments)}}())}},tt={jumbotron:{backgroundColor:"white",paddingTop:"4rem",paddingBottom:"4rem",paddingLeft:"2rem",paddingRight:"2rem",borderRadius:"0.5rem",boxShadow:"0px 0px 15px -7px black",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"}},at={subject:"",issueDate:"",message:""},nt={subject:!1,issueDate:!1,message:!1},rt=function(){var e=Object(N.b)(),t=Object(N.c)(function(e){return e.user}).user.name,a=Object(N.c)(function(e){return e.openTickets}),c=a.isLoading,s=a.error,l=a.successMsg,u=Object(n.useState)(at),m=Object(d.a)(u,2),p=m[0],w=m[1],x=Object(n.useState)(nt),k=Object(d.a)(x,2),j=k[0],y=k[1];Object(n.useEffect)(function(){l&&e(_e())},[e,p,j]);var O=function(e){var t=e.target,a=t.name,n=t.value;w(Object(re.a)(Object(re.a)({},p),{},Object(ne.a)({},a,n)))},S=function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),y(nt),a.next=4,(c=p.subject).length>=3&&c.length<=175;case 4:r=a.sent,y(Object(re.a)(Object(re.a)({},nt),{},{subject:!r})),e(et(Object(re.a)(Object(re.a)({},p),{},{sender:t})));case 7:case"end":return a.stop()}var c},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{style:tt.jumbotron},r.a.createElement("h1",{className:"text-info text-center"},"Add a New Ticket"),r.a.createElement("hr",null),r.a.createElement("div",null,s&&r.a.createElement(f.a,{variant:"danger"},s),l&&r.a.createElement(f.a,{variant:"info"},l),c&&r.a.createElement(v.a,{variant:"info",animation:"border"})),r.a.createElement(h.a,{autoComplete:"off",onSubmit:S},r.a.createElement(h.a.Group,{as:g.a},r.a.createElement(h.a.Label,{column:!0,sm:3},"Subject"),r.a.createElement(E.a,null,r.a.createElement(h.a.Control,{type:"text",name:"subject",value:p.subject,onChange:O,placeholder:"Subject",required:!0}),r.a.createElement(h.a.Text,{className:"text-danger"},j.subject&&"Subject is required."))),r.a.createElement(h.a.Group,{as:g.a,style:{marginTop:"10px"}},r.a.createElement(h.a.Label,{column:!0,sm:3},"Date"),r.a.createElement(E.a,null,r.a.createElement(h.a.Control,{type:"date",value:p.date,name:"issueDate",onChange:O,required:!0}))),r.a.createElement(h.a.Group,{as:g.a,style:{marginTop:"10px"}},r.a.createElement(h.a.Label,{column:!0,sm:3},"Issue Found"),r.a.createElement(E.a,null,r.a.createElement(h.a.Control,{as:"textarea",value:p.message,name:"message",rows:"5",onChange:O,required:!0}),r.a.createElement(h.a.Text,{className:"text-danger"},j.message&&"Subject details are required."))),r.a.createElement(b.a,{style:{marginTop:"18px",color:"white",width:"100%"},type:"submit",variant:"info"},"Submit")))},ct=function(){return r.a.createElement(We,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(ge,{page:"Add Ticket"}))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(rt,null)))))},st=function(){var e=Object(N.b)();return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{as:g.a},r.a.createElement(h.a.Label,{column:!0,sm:"3"},"Search By Subject:",""),r.a.createElement(E.a,{sm:"9"},r.a.createElement(h.a.Control,{name:"searchStr",type:"text",placeholder:"Search ...",onChange:function(t){var a,n=t.target.value;e((a=n,function(e){e(ke(a))}))}})))))},lt=function(){var e=Object(N.b)();return Object(n.useEffect)(function(){e(function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(be()),e.prev=1,e.next=4,new Promise(function(){var e=Object(i.a)(o.a.mark(function e(t,a){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/v1/ticket/all-open-tickets/",{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a("Error at getAllOpenTickets / "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}());case 4:(a=e.sent).data.result.length&&t(ve(a.data.result)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(we("There are no open tickets at the moment."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},[e]),r.a.createElement(We,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(ge,{page:"Open Tickets "}))),r.a.createElement(g.a,{className:"mt-4"},r.a.createElement(E.a,null,r.a.createElement(m.Link,{to:"/add-ticket"},r.a.createElement(b.a,{variant:"info",style:{color:"white"}},"Add New Ticket"))),r.a.createElement(E.a,{className:"text-right"},r.a.createElement(st,null))),r.a.createElement("hr",null),r.a.createElement(E.a,null,r.a.createElement(me,null))))},ot=function(){var e=Object(N.b)();return Object(n.useEffect)(function(){e(function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(be()),e.prev=1,e.next=4,new Promise(function(){var e=Object(i.a)(o.a.mark(function e(t,a){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/v1/ticket/all-closed-tickets/",{headers:{Authorization:sessionStorage.getItem("accessJWT")}});case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a("Error at getAllClosedTickets / "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}());case 4:(a=e.sent).data.result.length&&t(ve(a.data.result)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(we("There are no closed tickets at the moment."));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())},[e]),r.a.createElement(We,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(ge,{page:"Closed Tickets "}))),r.a.createElement(g.a,{className:"mt-4"},r.a.createElement(E.a,null,r.a.createElement(m.Link,{to:"/add-ticket"},r.a.createElement(b.a,{variant:"info",style:{color:"white"}},"Add New Ticket"))),r.a.createElement(E.a,{className:"text-right"},r.a.createElement(st,null))),r.a.createElement("hr",null),r.a.createElement(E.a,null,r.a.createElement(me,null))))},it=(a(110),function(e){var t=e.msg;return!t&&(t=[]),t.map(function(e,t){return r.a.createElement("div",{key:t,className:"message-history mt-3"},r.a.createElement("div",{className:"send text-secondary"},r.a.createElement("div",{className:"sender"},e.sender),r.a.createElement("div",{className:"date"},e.msgAt&&new Date(e.msgAt).toLocaleString())),r.a.createElement("div",{className:"message"},e.message))})}),ut=function(e){var t=e._id,a=Object(N.b)(),c=Object(N.c)(function(e){return e.user}).user.name,s=Object(n.useState)(""),l=Object(d.a)(s,2),u=l[0],m=l[1];return r.a.createElement("div",null,r.a.createElement(h.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t){return function(){var a=Object(i.a)(o.a.mark(function a(n){var r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(Se()),a.prev=1,a.next=4,Ue(e,t);case 4:if(r=a.sent,console.log(r),"error"!==r.status){a.next=8;break}return a.abrupt("return",n(Ne("Error at replyToTicket / "+r.message)));case 8:n(qe(e)),n(Le(r.message)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n(Ne("Error at replyToTicket / "+a.t0.message));case 15:case"end":return a.stop()}},a,null,[[1,12]])}));return function(e){return a.apply(this,arguments)}}()}(t,{message:u,sender:c})),m("")}},r.a.createElement(h.a.Label,null,"Reply"),r.a.createElement("div",null,r.a.createElement(h.a.Text,null,"Add your message here.")),r.a.createElement(h.a.Control,{value:u,onChange:function(e){m(e.target.value)},as:"textarea",row:"5",name:"detail"}),r.a.createElement("div",{className:"text-end mt-2 mb-2"},r.a.createElement(b.a,{variant:"info",type:"submit"},"Reply"))))},mt=function(){var e=Object(u.x)().tId,t=Object(N.b)(),a=Object(N.c)(function(e){return e.tickets}),c=a.isLoading,s=a.error,l=a.selectedTicket,m=a.replyMsg,d=a.replyTicketError;return Object(n.useEffect)(function(){t(qe(e)),m&&t(xe())},[e,t]),r.a.createElement(We,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(ge,{page:"Ticket Search"}))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,c&&r.a.createElement(v.a,{variant:"info",animation:"border"}),s&&r.a.createElement(f.a,{variant:"danger"},s),d&&r.a.createElement(f.a,{variant:"danger"},d),m&&r.a.createElement(f.a,{variant:"success"},m))),r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"text-secondary"},r.a.createElement("div",{className:"subject"},"Subject: ",l.subject),r.a.createElement("div",{className:"date"},"Ticket Opened: ",l.openedAt&&new Date(l.openedAt).toLocaleString()),r.a.createElement("div",{className:"status"},"Status: ",l.status)),r.a.createElement(E.a,{className:"text-right"},r.a.createElement(b.a,{variant:"outline-info",onClick:function(){return t((a=e,function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Te()),e.prev=1,e.next=4,Re(a);case 4:if(n=e.sent,console.log(n),"error"!==n.status){e.next=8;break}return e.abrupt("return",t(Ae("Error at updateTicketStatusClosed / "+n.message)));case 8:t(qe(a)),t(Ce(n.message)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(Ae("Error at updateTicketStatusClosed / "+e.t0.message));case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()));var a},disabled:"closed"===l.status},"Close Ticket"))),r.a.createElement(g.a,{className:"mt-4"},r.a.createElement(E.a,null,l.conversations&&r.a.createElement(it,{msg:l.conversations}))),r.a.createElement("hr",null),r.a.createElement(g.a,{className:"mt-4"},r.a.createElement(E.a,null,r.a.createElement(ut,{_id:e})))))},dt=Object(w.b)({name:"userRegistration",initialState:{isLoading:!1,status:"",message:""},reducers:{registrationPending:function(e){e.isLoading=!0},registrationSuccess:function(e,t){e.isLoading=!1,e.status="success",e.message=t.payload},registrationFailure:function(e,t){e.isLoading=!1,e.status="error",e.message=t.payload}}}),pt=dt.reducer,gt=dt.actions,Et=gt.registrationPending,ft=gt.registrationSuccess,ht=gt.registrationFailure,bt=pt,vt={name:"",phone:"",email:"",company:"",address:"",password:"",confirmPassword:""},wt={isLongEnough:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecial:!1,confirmPassword:!1},xt=function(){var e=Object(N.b)(),t=Object(n.useState)(vt),a=Object(d.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(wt),u=Object(d.a)(l,2),m=u[0],w=u[1],x=Object(N.c)(function(e){return e.registration}),k=x.isLoading,j=x.status,y=x.message;Object(n.useEffect)(function(){},[c]);var O=function(e){var t=e.target,a=t.name,n=t.value;if(s(Object(re.a)(Object(re.a)({},c),{},Object(ne.a)({},a,n))),"password"===a){var r=n.length>=8,l=/[A-Z]/.test(n),o=/[a-z]/.test(n),i=/[0-9]/.test(n),u=/[ !,",#,$,%,&,',(,),*,+,-,.,/,:,;,<,=,>,?,@,[,^,_,`,{,|,} ]/.test(n);w(Object(re.a)(Object(re.a)({},m),{},{isLongEnough:r,hasUpperCase:l,hasLowerCase:o,hasNumber:i,hasSpecial:u}))}"confirmPassword"===a&&w(Object(re.a)(Object(re.a)({},m),{},{confirmPassword:c.password===n}))};return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",{className:"text-info"},"User Registration"))),r.a.createElement("hr",null),r.a.createElement(g.a,null,r.a.createElement(E.a,null,y&&r.a.createElement(f.a,{variant:"success"===j?"success":"danger"},y))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(h.a,{onSubmit:function(t){var a;t.preventDefault(),e((a=c,function(){var e=Object(i.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Et()),e.prev=1,e.next=4,A(a);case 4:"success"===(n=e.sent).status?t(ft(n.message)):t(ht(n.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(ht(e.t0.message)),console.log("Error at userRegistration / "+e.t0.message);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Full Name"),r.a.createElement(h.a.Control,{type:"text",name:"name",value:c.name,onChange:O,placeholder:"Your Name"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Phone Number"),r.a.createElement(h.a.Control,{type:"phoneNumber",name:"phone",value:c.phone,onChange:O,placeholder:"Phone Number"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Email Address"),r.a.createElement(h.a.Control,{type:"email",name:"email",value:c.email,onChange:O,placeholder:"Enter Email"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Company Name"),r.a.createElement(h.a.Control,{type:"text",name:"company",value:c.company,onChange:O,placeholder:"Company Name"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Address"),r.a.createElement(h.a.Control,{type:"text",name:"address",value:c.address,onChange:O,placeholder:"Address"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",name:"password",value:c.password,onChange:O,placeholder:"Password"})),r.a.createElement(h.a.Group,{className:"mb-3"},r.a.createElement(h.a.Label,null,"Confirm Password"),r.a.createElement(h.a.Control,{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:O,placeholder:"Confirm Password"})),r.a.createElement("ul",{className:"mb-4"},r.a.createElement("li",{className:m.isLongEnough?"text-success":"text-danger"},"At least 8 characters ","",m.isLongEnough?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasUpperCase?"text-success":"text-danger"},"At least one upper case letter ","",m.hasUpperCase?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasLowerCase?"text-success":"text-danger"},"At least one lower case letter ","",m.hasLowerCase?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasNumber?"text-success":"text-danger"},"At least one number ","",m.hasNumber?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.hasSpecial?"text-success":"text-danger"},"At least one special character ","",m.hasSpecial?r.a.createElement(r.a.Fragment,null,"\u2713"):""),r.a.createElement("li",{className:m.confirmPassword?"text-success":"text-danger"},"Passwords match ","",m.confirmPassword?r.a.createElement(r.a.Fragment,null,"\u2713"):"")),r.a.createElement("div",{className:"text-center"},r.a.createElement(b.a,{variant:"info",type:"submit",disabled:Object.values(m).includes(!1)},"Submit")),k&&r.a.createElement(v.a,{animation:"border",variant:"info"})))),r.a.createElement(g.a,{className:"py-3 text-center"},r.a.createElement(E.a,null,"Already have an account? ","",r.a.createElement("a",{href:"/"},"Login"))))},kt=(a(111),{jumbotron:{backgroundColor:"white",paddingTop:"4rem",paddingBottom:"4rem",paddingLeft:"2rem",paddingRight:"2rem",borderRadius:"0.5rem",boxShadow:"0px 0px 15px -7px black"}}),jt=function(){return r.a.createElement("div",{className:"entry-page bg-info"},r.a.createElement("div",{style:kt.jumbotron},r.a.createElement(xt,null)))},yt=(a(112),{jumbotron:{backgroundColor:"white",paddingTop:"4rem",paddingBottom:"4rem",paddingLeft:"2rem",paddingRight:"2rem",borderRadius:"0.5rem",boxShadow:"0px 0px 15px -7px black"}}),Ot={status:"",message:""},St=function(){var e=Object(u.x)(),t={_id:e._id,email:e.email},a=Object(n.useState)(Ot),c=Object(d.a)(a,2),s=c[0],l=c[1];return Object(n.useEffect)(function(){var e=function(){var e=Object(i.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:a=e.sent,l(a);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();!s.status&&e()},[s]),r.a.createElement("div",{className:"entry-page bg-info"},r.a.createElement("div",{style:yt.jumbotron},!s.status&&r.a.createElement(v.a,{variant:"info",animation:"border"}),s.status&&r.a.createElement(f.a,{variant:"success"===s.status?"success":"danger"},s.message),r.a.createElement("div",null,r.a.createElement("a",{href:"/",style:{display:"flex",justifyContent:"center"}},"Login"))))};var Lt=function(){var e=function(e){var t=e.children,a=Object(N.b)(),c=Object(N.c)(function(e){return e.login}).isAuth,s=Object(N.c)(function(e){return e.user}).user;return Object(n.useEffect)(function(){var e=function(){var e=Object(i.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:e.sent&&a(O());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();!sessionStorage.getItem("accessJWT")&&localStorage.getItem("crmSite")&&e(),!c&&sessionStorage.getItem("accessJWT")&&a(O()),s._id||a(V())},[a,c,s._id]),c?t:r.a.createElement(u.b,{to:"/"})};return r.a.createElement("div",{className:"App"},r.a.createElement(m.BrowserRouter,null,r.a.createElement(u.f,null,r.a.createElement(u.d,{path:"/",element:r.a.createElement(ae,null)}),r.a.createElement(u.d,{path:"/registration",element:r.a.createElement(jt,null)}),r.a.createElement(u.d,{path:"/verification/:_id/:email",element:r.a.createElement(St,null)}),r.a.createElement(u.d,{path:"/password-reset",element:r.a.createElement(ie,null)}),r.a.createElement(u.d,{path:"/dashboard",element:r.a.createElement(e,null,r.a.createElement(De,null))}),r.a.createElement(u.d,{path:"/add-ticket",element:r.a.createElement(e,null,r.a.createElement(ct,null))}),r.a.createElement(u.d,{path:"/open-tickets",element:r.a.createElement(e,null,r.a.createElement(lt,null))}),r.a.createElement(u.d,{path:"/closed-tickets",element:r.a.createElement(e,null,r.a.createElement(ot,null))}),r.a.createElement(u.d,{path:"/ticket/:tId",element:r.a.createElement(e,null,r.a.createElement(mt,null))}))))},Nt=(a(113),Object(w.a)({reducer:{tickets:Pe,login:L,user:K,openTickets:$e,registration:bt,password:Z}}));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N.a,{store:Nt},r.a.createElement(Lt,null))),document.getElementById("root"))},69:function(e,t){e.exports="data:image/png;base64,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"},71:function(e,t,a){e.exports=a(114)},76:function(e,t,a){},78:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.af6a3189.chunk.js.map